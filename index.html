<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex">
  <title>Service Seeking - Find Local Tradespeople</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- ────────────  HEADER  ──────────── -->
  <header class="site-header">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="#">
          <strong style="color: #0066cc; font-size: 1.5rem;">ServiceSeeking</strong>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="#">Categories</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Get Quotes</a></li>
            <li class="nav-item"><a class="nav-link" href="#">List Your Business</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Log In</a></li>
          </ul>
        </div>
      </nav>
    </div>
  </header>

  <!-- ────────────  HERO SECTION  ──────────── -->
  <section class="hero-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-7">
          <h1 class="hero-title">Find trusted local tradespeople</h1>
          <p class="hero-subtitle">Get obligation-free quotes from verified businesses in your area. Save time and money on your next project.</p>

          <div class="quote-form">
            <div class="form-row">
              <div class="col-md-8 mb-3 mb-md-0">
                <div class="input-with-icon">
                  <i class="fas fa-search"></i>
                  <input
                    type="text"
                    id="job-description"
                    class="form-control"
                    placeholder="Tell us a little about the job"
                  >
                </div>
              </div>
              <div class="col-md-4">
                <button id="get-quotes-btn" class="btn btn-primary btn-block btn-lg">
                  Get Quotes
                </button>
              </div>
            </div>
          </div>

          <div class="trust-indicators">
            <div class="row">
              <div class="col-6 col-md-3">
                <div class="trust-stat">
                  <strong>4.6★</strong>
                  <small>9,874 reviews</small>
                </div>
              </div>
              <div class="col-6 col-md-3">
                <div class="trust-stat">
                  <strong>50,000+</strong>
                  <small>Businesses</small>
                </div>
              </div>
              <div class="col-6 col-md-3">
                <div class="trust-stat">
                  <strong>2M+</strong>
                  <small>Jobs Posted</small>
                </div>
              </div>
              <div class="col-6 col-md-3">
                <div class="trust-stat">
                  <strong>Free</strong>
                  <small>No Obligation</small>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5 d-none d-lg-block">
          <img src="https://images.unsplash.com/photo-1581578731548-c64695cc6952?w=500" alt="Tradesperson" class="hero-image">
        </div>
      </div>
    </div>
  </section>

  <!-- ────────────  POPULAR SERVICES  ──────────── -->
  <section class="services-section">
    <div class="container">
      <h2 class="section-title">Most Requested Services</h2>

      <div class="row">
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-paint-roller"></i>
            </div>
            <h5>Painting</h5>
          </div>
        </div>
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-bolt"></i>
            </div>
            <h5>Electricians</h5>
          </div>
        </div>
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-wrench"></i>
            </div>
            <h5>Plumbing</h5>
          </div>
        </div>
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-hammer"></i>
            </div>
            <h5>Building</h5>
          </div>
        </div>
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-broom"></i>
            </div>
            <h5>Cleaning</h5>
          </div>
        </div>
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-snowflake"></i>
            </div>
            <h5>Air Conditioning</h5>
          </div>
        </div>
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-tree"></i>
            </div>
            <h5>Gardening</h5>
          </div>
        </div>
        <div class="col-6 col-md-4 col-lg-3 mb-4">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-couch"></i>
            </div>
            <h5>Furniture Assembly</h5>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ────────────  HOW IT WORKS  ──────────── -->
  <section class="how-it-works">
    <div class="container">
      <h2 class="section-title">How it works</h2>

      <div class="row">
        <div class="col-md-4 mb-4">
          <div class="step-card">
            <div class="step-number">1</div>
            <h4>Tell us what you need</h4>
            <p>Answer a few simple questions about your job and we'll match you with the right professionals.</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="step-card">
            <div class="step-number">2</div>
            <h4>Receive free quotes</h4>
            <p>Get obligation-free quotes from verified local businesses in your area.</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="step-card">
            <div class="step-number">3</div>
            <h4>Compare and hire</h4>
            <p>Compare quotes, read reviews, and hire the best professional for your job.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- ────────────  VOICEFLOW EXTENSION + LOADER  ──────────── -->
  <script>
    /* in‑chat mini‑form */
    const FormExtension = {
      name: 'Forms',
      type: 'response',
      match: ({trace}) =>
        trace.type === 'Custom_Form' || trace.payload?.name === 'Custom_Form',

      render: ({element}) => {
        const formEl = document.createElement('form');

        formEl.innerHTML = `
      <style>
        label{font:.8em/1 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;color:#666}
        input[type=text],input[type=email],input[type=tel]{
          width:100%;margin:5px 0;padding:8px 0;background:transparent;
          border:none;border-bottom:.5px solid rgba(0,0,0,.1);outline:0;
        }
        .phone{width:150px}
        @media(max-width:480px){
          input[type=text],input[type=email],input[type=tel]{
            font-size:16px!important;line-height:1.3;
          }
        }
        .invalid{border-color:red}
        .submit{
          display:inline-block;width:100%;padding:.8rem;border:none;
          background:#0066cc;color:#fff;font:.8em/1 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;border-radius:5px;
          cursor:pointer;text-align:center;
        }
        .submit:hover{background:#0052a3;transform:scale(1.02);transition:.2s}
      </style>

      <label>Your name</label>
      <input type="text"  class="name"   required><br><br>

      <label>Your email</label>
      <input type="email" class="email"  required
             pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"><br><br>

      <label>Mobile number</label>
      <input type="tel"   class="phone"  required pattern="\\d+"><br><br>

      <input type="submit" class="submit" value="Send my details">
    `;

        /* live validation */
        formEl.addEventListener('input', () =>
          ['name', 'email', 'phone'].forEach(c => {
            const i = formEl.querySelector('.' + c);
            if (i.checkValidity()) i.classList.remove('invalid');
          }));

        formEl.addEventListener('submit', e => {
          e.preventDefault();
          const pick = cls => formEl.querySelector(cls);
          const [name, email, phone] =
            ['.name', '.email', '.phone'].map(pick);

          if (![name, email, phone].every(i => i.checkValidity())) {
            [name, email, phone].forEach(i => i.classList.add('invalid'));
            return;
          }

          formEl.querySelector('.submit').remove();
          window.voiceflow.chat.interact({
            type: 'complete',
            payload: {
              name: name.value, email: email.value,
              phone: phone.value
            }
          });
        });

        element.appendChild(formEl);
      }
    };

  </script>

  <script>
    /* ───────────────────────────────
    "GET QUOTES" CLICK HANDLER
    ─────────────────────────────── */

    // Allow Enter key to submit
    document.getElementById('job-description').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        document.getElementById('get-quotes-btn').click();
      }
    });

    document.getElementById('get-quotes-btn').addEventListener('click', (e) => {
      e.preventDefault();

      /* 1️⃣ Get job description */
      const jobDescription = document.getElementById('job-description')?.value.trim();
      if (!jobDescription) {
        alert('Please tell us about the job you need help with');
        return;
      }

      /* 2️⃣ build modal wrapper (backdrop ▸ modal ▸ VF embed) */
      const backdrop = Object.assign(document.createElement('div'), {id: 'vf-modal-backdrop'});
      const modal = Object.assign(document.createElement('div'), {id: 'vf-modal'});
      const embedDiv = Object.assign(document.createElement('div'), {id: 'vf-embed'});
      const closeBtn = Object.assign(document.createElement('button'), {
        id: 'vf-modal-close', innerHTML: '&times;',
        onclick: () => backdrop.remove()
      });

      modal.append(closeBtn, embedDiv);
      backdrop.append(modal);
      document.body.append(backdrop);

      /* 3️⃣ inject VF script + load widget once */
      (function (d, t) {
        const v = d.createElement(t), s = d.getElementsByTagName(t)[0];
        v.onload = function () {
          window.voiceflow.chat.load({
            verify: {projectID: '68d0f6bf57cfeddb8e97923a'},
            url: 'https://general-runtime.voiceflow.com',
            versionID: 'development',
            launch: {event: {type: 'launch', payload: {user_id: 719155}}},
            render: {mode: 'embedded', target: embedDiv},
            autostart: true,
            assistant: {
              persistence: 'memory',
              extensions: [FormExtension],
              stylesheet: 'style.css'
            }
          }).then(() => {
            // Wait a bit for widget to be ready, then send the message
            setTimeout(() => {
              window.voiceflow.chat.interact({
                type: 'text',
                payload: jobDescription
              });
            }, 1000);
          });

          // Add image upload button after widget loads
          setTimeout(function() {
            if (window.addVoiceflowImageUpload) {
              window.addVoiceflowImageUpload();
            }
          }, 1500);
        };
        v.src = 'https://cdn.voiceflow.com/widget-next/bundle.mjs?v=1.04&t=' + Date.now();
        v.type = 'text/javascript';
        s.parentNode.insertBefore(v, s);
      })(document, 'script');
    });
  </script>

  <!-- Image Upload Integration -->
  <script src="voiceflow-image-upload-integration.js"></script>

</body>

</html>
